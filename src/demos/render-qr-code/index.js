const QRCode = require('qrcode')

// QR Code em string, no padrão EMVCo, gerado pela API do Mercado Pago
const qr_data = '????????????????????COM.MERCADOLIBRE?????????????????-????-????-????-???????????????????????????????BR????Test Test????SAO PAULO????????***????????';

// Ver documentação do módulo "qrcode" em https://www.npmjs.com/package/qrcode

const text = qr_data;

// Gera um QR Code em base 64 a partir de uma string qualquer
QRCode.toDataURL(text, function (err, url) {
    console.log(url)
});

// Gera um QR Code a partir de uma string qualquer e salva em formato .png
QRCode.toFile('qrcode.png', text, function (err) {
    if (err) throw err
    console.log('done')
})

// Gera um QR Code customizado a partir de uma string qualquer e salva em formato .png
QRCode.toFile('qrcode-custom.png', text, {
    color: {
        dark: '#00F',  // Blue dots
        light: '#0000' // Transparent background
    }
}, function (err) {
    if (err) throw err
    console.log('done')
})
